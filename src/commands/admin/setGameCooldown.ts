import { Message, PermissionsBitField } from "discord.js";import { updateGuildConfig, getGuildConfig } from "../../services/guildConfigService";import { successEmbed, errorEmbed } from "../../utils/embed";import { parseDuration, formatDuration } from "../../utils/format";import { canExecuteAdminCommand } from "../../utils/permissionUtils";export async function handleSetGameCooldown(message: Message, args: string[]) {  if (!message.member || !(await canExecuteAdminCommand(message, message.member))) {    return message.reply({ embeds: [errorEmbed(message.author, "Access Denied", "You need Administrator or Bot Commander permissions.")] });  }  const game = args[0]?.toLowerCase();   const timeInput = args.slice(1).join(" ");  if (!game || !timeInput) {    return message.reply({      embeds: [errorEmbed(message.author, "Usage", "`!set-game-cooldown <game> <time>`\nExample: `!game-cd slots 30s` or `!game-cd bj 1h 30m`")]    });  }  const seconds = parseDuration(timeInput);  if (seconds === null || seconds < 0) {    return message.reply({ embeds: [errorEmbed(message.author, "Invalid Time", "Please provide a valid duration (e.g. `30s`, `1m`, `1h`).")] });  }  const config = await getGuildConfig(message.guildId!);  let cooldowns: Record<string, number> = (config.gameCooldowns as Record<string, number>) || {};  if (typeof cooldowns !== "object") cooldowns = {};   cooldowns[game] = seconds;  await updateGuildConfig(message.guildId!, {    gameCooldowns: cooldowns  });  return message.reply({    embeds: [successEmbed(message.author, "Configuration Updated", `üïê **${game.toUpperCase()}** cooldown set to **${formatDuration(seconds * 1000)}**.`)]  });}